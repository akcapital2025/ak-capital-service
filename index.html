<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AK CAPITAL SERVICE</title>
    <style>
        :root { --primary: #003366; --secondary: #25D366; --bg: #f4f7f9; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); transition: 0.3s; }
        .header { background: var(--primary); color: white; padding: 20px; text-align: center; position: sticky; top: 0; z-index: 100; display: flex; justify-content: space-between; align-items: center; }
        .container { padding: 20px; max-width: 500px; margin: auto; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
        .btn { background: var(--primary); color: white; padding: 12px; border: none; border-radius: 8px; width: 100%; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .plus-btn { position: fixed; bottom: 30px; right: 30px; background: var(--secondary); color: white; width: 60px; height: 60px; border-radius: 50%; font-size: 30px; border: none; box-shadow: 0 4px 10px rgba(0,0,0,0.3); cursor: pointer; display: none; }
        .hidden { display: none; }
        .lang-badge { font-size: 12px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="header">
        <div style="width: 40px;"></div> <div>
            <h1 style="margin:0; font-size: 20px;">AK CAPITAL SERVICE</h1>
            <p id="tagline" style="margin:0; font-size: 11px;">Microfinance for Growth</p>
        </div>
        <div id="settingsBtn" class="hidden" onclick="showPage('settingsPage')" style="font-size: 24px; cursor: pointer;">‚öôÔ∏è</div>
    </div>

    <div class="container">
        
        <div id="loginPage">
            <div class="card">
                <h3 id="loginTitle">‡§á‡§®‡•ç‡§µ‡•á‡§∏‡•ç‡§ü‡§∞ ‡§≤‡•â‡§ó‡§ø‡§®</h3>
                <input type="email" id="email" placeholder="‡§à‡§Æ‡•á‡§≤ ‡§Ü‡§à‡§°‡•Ä (Email ID)">
                <input type="password" id="password" placeholder="‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° (Password)">
                <button class="btn" id="loginBtn" onclick="login()">‡§≤‡•â‡§ó‡§ø‡§® (Login)</button>
            </div>
        </div>

        <div id="homePage" class="hidden">
            <h3 id="welcomeText" style="color: var(--primary);">‡§®‡§Æ‡§∏‡•ç‡§§‡•á!</h3>
            <div class="card">
                <p>üí∞ <span id="labelInv">‡§ï‡•Å‡§≤ ‡§®‡§ø‡§µ‡•á‡§∂:</span> ‚Çπ<span id="amt">0</span></p>
                <p>üìÖ <span id="labelDays">‡§Ö‡§µ‡§ß‡§ø:</span> <span id="days">0</span> <span id="labelDays2">‡§¶‡§ø‡§®</span></p>
                <p>üìà <span id="labelInt">‡§¨‡•ç‡§Ø‡§æ‡§ú:</span> ‚Çπ<span id="int">0</span></p>
            </div>
            
            <div class="card">
                <h4 id="labelAbout">About Company</h4>
                <p id="aboutText" style="font-size: 14px; color: #555;">AK CAPITAL SERVICE ‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§®‡•á‡§Ç‡§∏ ‡§ï‡•á ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§§‡§ø‡§¨‡§¶‡•ç‡§ß ‡§π‡•à‡•§</p>
            </div>
        </div>

        <div id="settingsPage" class="hidden">
            <div class="card">
                <h3 id="labelSettings">Settings</h3>
                <div class="lang-badge" onclick="toggleLanguage()" style="background: var(--primary); color: white; text-align: center; margin-bottom: 15px;">
                    üåê Change Language: <span id="currentLang">Hindi</span>
                </div>
                <input type="password" id="newPass" placeholder="‡§®‡§Ø‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° (New Password)">
                <button class="btn" id="updatePassBtn" onclick="changePassword()">‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¨‡§¶‡§≤‡•á‡§Ç (Update Password)</button>
                <hr style="margin: 20px 0;">
                <button class="btn" id="withdrawBtn" style="background:orange;" onclick="alert('Withdrawal Applied!')">Withdrawal Apply</button>
                <button class="btn" id="logoutBtn" style="background:red;" onclick="location.reload()">‡§≤‡•â‡§ó‡§Ü‡§â‡§ü (Logout)</button>
                <button class="btn" id="backBtn" style="background:#666;" onclick="showPage('homePage')">‡§µ‡§æ‡§™‡§∏ (Back)</button>
            </div>
        </div>

    </div>

    <button id="investPlus" class="plus-btn" onclick="window.open('https://wa.me/917038164867?text=Hi,%20I%20want%20to%20invest')">+</button>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbx0zhXeuO6_3GbC06L9e94-xTz0Jm9Vq_dB-_YVX9arD8ANi7zpkTJEH_VGcze4ID8K5g/exec';
        let currentLang = 'hi';
        let userEmail = "";

        const textData = {
            hi: {
                tagline: "Microfinance for Growth", loginTitle: "‡§á‡§®‡•ç‡§µ‡•á‡§∏‡•ç‡§ü‡§∞ ‡§≤‡•â‡§ó‡§ø‡§®", loginBtn: "‡§≤‡•â‡§ó‡§ø‡§®", welcome: "‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ", 
                labelInv: "‡§ï‡•Å‡§≤ ‡§®‡§ø‡§µ‡•á‡§∂:", labelDays: "‡§Ö‡§µ‡§ß‡§ø:", labelDays2: "‡§¶‡§ø‡§®", labelInt: "‡§¨‡•ç‡§Ø‡§æ‡§ú:", 
                labelAbout: "‡§ï‡§Ç‡§™‡§®‡•Ä ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç", about: "AK CAPITAL SERVICE ‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§®‡•á‡§Ç‡§∏ ‡§ï‡•á ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§§‡§ø‡§¨‡§¶‡•ç‡§ß ‡§π‡•à‡•§",
                labelSettings: "‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏", updatePass: "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¨‡§¶‡§≤‡•á‡§Ç", logout: "‡§≤‡•â‡§ó‡§Ü‡§â‡§ü", back: "‡§µ‡§æ‡§™‡§∏", withdraw: "‡§µ‡§ø‡§°‡•ç‡§∞‡•â‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡•ç‡§≤‡§æ‡§à ‡§ï‡§∞‡•á‡§Ç"
            },
            en: {
                tagline: "Empowering Growth", loginTitle: "Investor Login", loginBtn: "Login", welcome: "Welcome, ", 
                labelInv: "Total Investment:", labelDays: "Duration:", labelDays2: "Days", labelInt: "Interest:", 
                labelAbout: "About Company", about: "AK CAPITAL SERVICE is committed to growth in the microfinance sector.",
                labelSettings: "Settings", updatePass: "Update Password", logout: "Logout", back: "Back", withdraw: "Apply for Withdrawal"
            }
        };

        async function login() {
            userEmail = document.getElementById('email').value.trim();
            const pass = document.getElementById('password').value.trim();
            if(!userEmail || !pass) return alert("Please fill details");

            try {
                const res = await fetch(`${scriptURL}?action=login&email=${userEmail}&password=${pass}`);
                const data = await res.json();
                
                if(data.status === "success") {
                    document.getElementById('welcomeText').innerText = textData[currentLang].welcome + data.name;
                    document.getElementById('amt').innerText = data.amount;
                    document.getElementById('days').innerText = data.days;
                    document.getElementById('int').innerText = data.interest;
                    
                    showPage('homePage');
                    document.getElementById('settingsBtn').classList.remove('hidden');
                    document.getElementById('investPlus').style.display = 'block';
                } else { alert("Error: Wrong ID/Password"); }
            } catch(e) { alert("Server connection failed"); }
        }

        async function changePassword() {
            const newP = document.getElementById('newPass').value;
            if(!newP) return alert("Enter new password");
            await fetch(`${scriptURL}?action=changePass&email=${userEmail}&newPass=${newP}`);
            alert(currentLang === 'hi' ? "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•ã ‡§ó‡§Ø‡§æ!" : "Password Updated!");
        }

        function toggleLanguage() {
            currentLang = (currentLang === 'hi') ? 'en' : 'hi';
            document.getElementById('currentLang').innerText = currentLang === 'hi' ? 'Hindi' : 'English';
            updateUI();
        }

        function updateUI() {
            const d = textData[currentLang];
            document.getElementById('tagline').innerText = d.tagline;
            document.getElementById('loginTitle').innerText = d.loginTitle;
            document.getElementById('loginBtn').innerText = d.loginBtn;
            document.getElementById('labelInv').innerText = d.labelInv;
            document.getElementById('labelDays').innerText = d.labelDays;
            document.getElementById('labelDays2').innerText = d.labelDays2;
            document.getElementById('labelInt').innerText = d.labelInt;
            document.getElementById('labelAbout').innerText = d.labelAbout;
            document.getElementById('aboutText').innerText = d.about;
            document.getElementById('labelSettings').innerText = d.labelSettings;
            document.getElementById('updatePassBtn').innerText = d.updatePass;
            document.getElementById('withdrawBtn').innerText = d.withdraw;
            document.getElementById('logoutBtn').innerText = d.logout;
            document.getElementById('backBtn').innerText = d.back;
        }

        function showPage(id) {
            ['loginPage', 'homePage', 'settingsPage'].forEach(p => document.getElementById(p).classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }
    </script>
</body>
</html>
