<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§á‡§®‡•ç‡§µ‡•á‡§∏‡•ç‡§ü‡§∞ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ | AK CAPITAL SERVICE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #004d99; --secondary: #25D366; --accent: #e67e22; --bg: #f0f2f5; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background-color: var(--bg); }
        .header { background: var(--primary); color: white; padding: 20px; text-align: center; position: sticky; top: 0; display: flex; justify-content: space-between; align-items: center; }
        .container { width: 90%; max-width: 450px; margin: 25px auto; }
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .btn { background: var(--primary); color: white; padding: 14px; border: none; border-radius: 8px; width: 100%; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .data-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #eee; }
        .plus-btn { position: fixed; bottom: 30px; right: 25px; background: var(--secondary); color: white; width: 60px; height: 60px; border-radius: 50%; font-size: 35px; border: none; box-shadow: 0 4px 10px rgba(0,0,0,0.3); cursor: pointer; display: none; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="header">
        <div style="width:30px;"></div>
        <h2 style="margin:0; font-size: 20px;">‡§á‡§®‡•ç‡§µ‡•á‡§∏‡•ç‡§ü‡§∞ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</h2>
        <i class="fas fa-cog hidden" id="setBtn" onclick="toggleView('settingsPage')" style="cursor:pointer; font-size:20px;"></i>
    </div>

    <div class="container">
        <div id="loginArea" class="card">
            <h3 style="text-align:center; color:var(--primary);">‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</h3>
            <input type="email" id="email" placeholder="‡§à‡§Æ‡•á‡§≤ ‡§Ü‡§à‡§°‡•Ä">
            <input type="password" id="password" placeholder="‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°">
            <button class="btn" onclick="login()">Login</button>
        </div>

        <div id="dashboardArea" class="hidden">
            <div class="card" style="border-top: 5px solid var(--accent);">
                <h3 id="uName" style="color:var(--primary);">‡§®‡§Æ‡§∏‡•ç‡§§‡•á!</h3>
                <p style="font-size:13px; color:#666;">AK CAPITAL SERVICE ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à‡•§</p>
                <hr>
                <div class="data-row"><span>üí∞ ‡§ï‡•Å‡§≤ ‡§®‡§ø‡§µ‡•á‡§∂:</span> <strong id="uAmt">‚Çπ0</strong></div>
                <div class="data-row"><span>üìÖ ‡§Ö‡§µ‡§ß‡§ø:</span> <strong id="uDays">0 ‡§¶‡§ø‡§®</strong></div>
                <div class="data-row"><span>üìà ‡§¨‡•ç‡§Ø‡§æ‡§ú:</span> <strong id="uInt">‚Çπ0</strong></div>
            </div>
            <button class="btn" style="background:var(--secondary);" onclick="window.open('https://wa.me/917038164867')">WhatsApp Support</button>
            <button class="btn" style="background:#666;" onclick="location.reload()">Logout</button>
        </div>

        <div id="settingsPage" class="hidden">
            <div class="card">
                <h3>‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏</h3>
                <input type="password" id="newPass" placeholder="‡§®‡§Ø‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°">
                <button class="btn" onclick="updatePass()">‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
                <button class="btn" style="background:#eee; color:#333;" onclick="toggleView('dashboardArea')">‡§µ‡§æ‡§™‡§∏</button>
            </div>
        </div>
    </div>

    <button id="plusBtn" class="plus-btn" onclick="alert('‡§®‡§Ø‡§æ ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§™‡§∞ ‡§Æ‡•à‡§∏‡•á‡§ú ‡§≠‡•á‡§ú‡•á‡§Ç')">+</button>

    <script>
        // AAPKA NAYA SCRIPT URL YAHAN HAI
        const scriptURL = 'https://script.google.com/macros/s/AKfycbx93YTgj_eD0BJkDVBOlmSbQIYQDR0yO3TfxcuXpK-Mnptrxuhkd16gH-tBODyQUrvCgQ/exec';
        let userEmail = "";

        async function login() {
            userEmail = document.getElementById('email').value.trim();
            const pass = document.getElementById('password').value.trim();
            if(!userEmail || !pass) return alert("Details fill karein");

            try {
                const res = await fetch(`${scriptURL}?action=login&email=${userEmail}&password=${pass}`);
                const data = await res.json();
                
                if(data.status === "success") {
                    document.getElementById('uName').innerText = "‡§®‡§Æ‡§∏‡•ç‡§§‡•á, " + data.name + "!";
                    document.getElementById('uAmt').innerText = "‚Çπ" + data.amount;
                    document.getElementById('uDays').innerText = data.days + " ‡§¶‡§ø‡§®";
                    document.getElementById('uInt').innerText = "‚Çπ" + data.interest;
                    
                    document.getElementById('loginArea').classList.add('hidden');
                    document.getElementById('dashboardArea').classList.remove('hidden');
                    document.getElementById('setBtn').classList.remove('hidden');
                    document.getElementById('plusBtn').style.display = 'block';
                } else { alert("Wrong ID or Password"); }
            } catch(e) { alert("Server error! Connection check karein."); }
        }

        function toggleView(id) {
            document.getElementById('dashboardArea').classList.add('hidden');
            document.getElementById('settingsPage').classList.add('hidden');
            document.getElementById(id).classList.remove('hidden');
        }

        async function updatePass() {
            const np = document.getElementById('newPass').value;
            if(!np) return alert("Naya password likhein");
            await fetch(`${scriptURL}?action=changePass&email=${userEmail}&newPass=${np}`);
            alert("Password updated!");
        }
    </script>
</body>
</html>
